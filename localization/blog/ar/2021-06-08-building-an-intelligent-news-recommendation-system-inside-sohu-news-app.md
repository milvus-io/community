---
id: building-an-intelligent-news-recommendation-system-inside-sohu-news-app.md
title: التوصية بالمحتوى باستخدام البحث الدلالي المتجه
author: milvus
date: 2021-06-08T01:42:53.489Z
desc: تعرف على كيفية استخدام Milvus لبناء نظام ذكي للتوصية بالأخبار داخل التطبيق.
cover: assets.zilliz.com/blog_Sohu_News_dec53d0814.jpg
tag: Scenarios
canonicalUrl: >-
  https://zilliz.com/blog/building-an-intelligent-news-recommendation-system-inside-sohu-news-app
---
<custom-h1>بناء نظام ذكي للتوصية بالأخبار داخل تطبيق Sohu للأخبار</custom-h1><p>مع حصول <a href="https://www.socialmediatoday.com/news/new-research-shows-that-71-of-americans-now-get-news-content-via-social-pl/593255/">71% من الأمريكيين</a> على توصيات الأخبار من منصات التواصل الاجتماعي، أصبح المحتوى المخصص سريعًا هو الطريقة التي يتم بها اكتشاف وسائل الإعلام الجديدة. وسواء كان الأشخاص يبحثون عن موضوعات محددة، أو يتفاعلون مع المحتوى الموصى به، يتم تحسين كل ما يراه المستخدمون بواسطة الخوارزميات لتحسين معدلات النقر إلى الظهور (CTR) والتفاعل والملاءمة. Sohu هي مجموعة صينية مدرجة في بورصة ناسداك للوسائط والفيديو والبحث والألعاب عبر الإنترنت. وقد استفادت من <a href="https://milvus.io/">Milvus،</a> وهي قاعدة بيانات متجهة مفتوحة المصدر أنشأتها <a href="https://zilliz.com/">شركة Zilliz،</a> لبناء محرك بحث دلالي متجه داخل تطبيق الأخبار الخاص بها. تشرح هذه المقالة كيف استخدمت الشركة ملفات تعريف المستخدمين لضبط توصيات المحتوى المخصص بمرور الوقت، وتحسين تجربة المستخدم ومشاركته.</p>
<h2 id="Recommending-content-using-semantic-vector-search" class="common-anchor-header">التوصية بالمحتوى باستخدام البحث الدلالي المتجه<button data-href="#Recommending-content-using-semantic-vector-search" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>يتم إنشاء ملفات تعريف مستخدمي Sohu News من سجل التصفح وتعديلها أثناء بحث المستخدمين عن المحتوى الإخباري وتفاعلهم معه. يستخدم نظام التوصية في Sohu البحث الدلالي المتجه للعثور على المقالات الإخبارية ذات الصلة. يعمل النظام من خلال تحديد مجموعة من العلامات التي من المتوقع أن تكون ذات أهمية لكل مستخدم بناءً على سجل التصفح. ثم يبحث بسرعة عن المقالات ذات الصلة ويصنف النتائج حسب الشعبية (تقاس بمتوسط نسبة النقر إلى الظهور)، قبل تقديمها للمستخدمين.</p>
<p>وتنشر صحيفة نيويورك تايمز وحدها <a href="https://www.theatlantic.com/technology/archive/2016/05/how-many-stories-do-newspapers-publish-per-day/483845/">230 قطعة من المحتوى</a> يوميًا، وهو ما يقدم لمحة عن حجم المحتوى الجديد الذي يجب أن يكون نظام التوصيات الفعال قادرًا على معالجته. ويتطلب استيعاب كميات كبيرة من الأخبار بحثًا عن التشابه في أجزاء من الثانية ومطابقة العلامات مع المحتوى الجديد كل ساعة. اختارت Sohu نظام Milvus لأنه يعالج مجموعات البيانات الضخمة بكفاءة ودقة، ويقلل من استخدام الذاكرة أثناء البحث، ويدعم عمليات النشر عالية الأداء.</p>
<h2 id="Understanding-a-news-recommendation-system-workflow" class="common-anchor-header">فهم سير عمل نظام التوصية بالأخبار<button data-href="#Understanding-a-news-recommendation-system-workflow" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>تعتمد توصية المحتوى المستندة إلى متجه البحث الدلالي في Sohu على نموذج دلالي منظم عميق (DSSM)، والذي يستخدم شبكتين عصبيتين لتمثيل استعلامات المستخدم والمقالات الإخبارية كمتجهات. يقوم النموذج بحساب التشابه في جيب التمام بين المتجهين الدلاليين، ثم يتم إرسال مجموعة الأخبار الأكثر تشابهًا إلى مجموعة الأخبار المرشحة للتوصية. بعد ذلك، يتم ترتيب المقالات الإخبارية استنادًا إلى نسبة النقر إلى الظهور المقدرة، ويتم عرض المقالات ذات أعلى نسبة نقر إلى الظهور المتوقعة على المستخدمين.</p>
<h3 id="Encoding-news-articles-into-semantic-vectors-with-BERT-as-service" class="common-anchor-header">ترميز المقالات الإخبارية إلى متجهات دلالية باستخدام خدمة BERT كخدمة</h3><p>لترميز المقالات الإخبارية إلى متجهات دلالية، يستخدم النظام أداة <a href="https://github.com/hanxiao/bert-as-service.git">BERT كخدمة</a>. إذا تجاوز عدد كلمات أي جزء من المحتوى 512 كلمة أثناء استخدام هذا النموذج، يحدث فقدان للمعلومات أثناء عملية التضمين. للمساعدة في التغلب على ذلك، يقوم النظام أولاً باستخراج ملخص وترميزه في متجه دلالي مكون من 768 بُعدًا. بعد ذلك يتم استخراج الموضوعين الأكثر صلة من كل مقالة إخبارية، ويتم تحديد متجهات الموضوعات المقابلة المدربة مسبقًا (200 بُعد) بناءً على معرف الموضوع. بعد ذلك يتم دمج متجهات الموضوعات في المتجه الدلالي ذي ال 768 بُعدًا المستخرج من ملخص المقالة، مما يشكل متجهًا دلاليًا مكونًا 968 بُعدًا.</p>
<p>يأتي المحتوى الجديد بشكل مستمر من خلال كافتا، ويتم تحويله إلى متجهات دلالية قبل إدراجه في قاعدة بيانات ملفوس.</p>
<h3 id="Extracting-semantically-similar-tags-from-user-profiles-with-BERT-as-service" class="common-anchor-header">استخراج العلامات المتشابهة دلاليًا من ملفات تعريف المستخدمين باستخدام BERT كخدمة</h3><p>الشبكة العصبية الأخرى للنموذج هي المتجه الدلالي للمستخدم. يتم استخراج العلامات المتشابهة دلاليًا (على سبيل المثال، فيروس كورونا، وفيروس كورونا، وكوفيد-19، وجائحة، وسلالة جديدة، والالتهاب الرئوي) من ملفات تعريف المستخدمين بناءً على الاهتمامات واستعلامات البحث وسجل التصفح. يتم فرز قائمة العلامات المكتسبة حسب الوزن، ويتم تقسيم أفضل 200 علامة إلى مجموعات دلالية مختلفة. يتم استخدام تباديل العلامات داخل كل مجموعة دلالية لتوليد عبارات علامات جديدة، والتي يتم ترميزها بعد ذلك إلى متجهات دلالية من خلال خدمة BERT-as-service</p>
<p>بالنسبة لكل ملف تعريف مستخدم، تحتوي مجموعات عبارات الوسم على <a href="https://github.com/baidu/Familia">مجموعة مقابلة من الموضوعات</a> التي يتم تمييزها بوزن يشير إلى مستوى اهتمام المستخدم. يتم اختيار أهم موضوعين من بين جميع الموضوعات ذات الصلة وترميزهما بواسطة نموذج التعلم الآلي (ML) ليتم ربطهما في متجه دلالات العلامات المقابلة، مما يشكل متجه دلالات المستخدم 968 بُعدًا. حتى لو قام النظام بتوليد نفس العلامات لمستخدمين مختلفين، فإن الأوزان المختلفة للعلامات والمواضيع المقابلة لها، بالإضافة إلى التباين الواضح بين متجهات المواضيع لكل مستخدم، يضمن أن تكون التوصيات فريدة من نوعها</p>
<p>النظام قادر على تقديم توصيات إخبارية مخصصة من خلال حساب تشابه جيب التمام للمتجهات الدلالية المستخرجة من كل من ملفات تعريف المستخدمين والمقالات الإخبارية.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/Sohu01_1e466fe0c3.jpg" alt="Sohu01.jpg" class="doc-image" id="sohu01.jpg" />
   </span> <span class="img-wrapper"> <span>Sohu01.jpg</span> </span></p>
<h3 id="Computing-new-semantic-user-profile-vectors-and-inserting-them-to-Milvus" class="common-anchor-header">حساب متجهات الملف الشخصي الدلالي الجديد للمستخدمين وإدراجها في ميلفوس</h3><p>يتم احتساب متجهات الملف الشخصي الدلالي للمستخدمين يوميًا، مع معالجة البيانات من فترة ال 24 ساعة السابقة مساء اليوم التالي. يتم إدراج المتجهات في ميلفوس بشكل فردي وتشغيلها من خلال عملية الاستعلام لتقديم نتائج الأخبار ذات الصلة للمستخدمين. محتوى الأخبار بطبيعته موضوعي بطبيعته، مما يتطلب تشغيل عملية حسابية كل ساعة لتوليد موجز أخبار حالي يحتوي على محتوى ذي نسبة نقرات متوقعة عالية وذو صلة بالمستخدمين. كما يتم فرز محتوى الأخبار أيضًا إلى أقسام حسب التاريخ، ويتم التخلص من الأخبار القديمة يوميًا.</p>
<h3 id="Decreasing-semantic-vector-extraction-time-from-days-to-hours" class="common-anchor-header">تقليل وقت استخراج المتجهات الدلالية من أيام إلى ساعات</h3><p>يتطلب استرجاع المحتوى باستخدام المتجهات الدلالية تحويل عشرات الملايين من عبارات الوسم إلى متجهات دلالية كل يوم. هذه عملية تستغرق وقتاً طويلاً قد تتطلب أياماً لإكمالها حتى عند تشغيلها على وحدات معالجة الرسومات (GPU)، والتي تعمل على تسريع هذا النوع من العمليات الحسابية. وللتغلب على هذه المشكلة التقنية، يجب تحسين المتجهات الدلالية من التضمين السابق بحيث يتم استرجاع المتجهات الدلالية المقابلة مباشرةً عند ظهور عبارات علامات متشابهة.</p>
<p>يتم تخزين المتجه الدلالي لمجموعة عبارات الوسم الحالية، ويتم ترميز مجموعة جديدة من عبارات الوسم التي يتم إنشاؤها يوميًا في متجهات MinHash. تُستخدم <a href="https://milvus.io/docs/v1.1.1/metric.md">مسافة جاكارد</a> لحساب التشابه بين متجه MinHash لعبارة الوسم الجديدة ومتجه عبارة الوسم المحفوظة. إذا تجاوزت مسافة جاكارد عتبة محددة مسبقًا، يتم اعتبار المجموعتين متشابهتين. إذا تم استيفاء عتبة التشابه، يمكن للعبارات الجديدة الاستفادة من المعلومات الدلالية من التضمينات السابقة. تشير الاختبارات إلى أن مسافة أعلى من 0.8 يجب أن تضمن دقة كافية لمعظم الحالات.</p>
<p>من خلال هذه العملية، يتم تقليل التحويل اليومي لعشرات الملايين من المتجهات المذكورة أعلاه من أيام إلى حوالي ساعتين. على الرغم من أن الطرق الأخرى لتخزين المتجهات الدلالية قد تكون أكثر ملاءمة اعتمادًا على متطلبات المشروع المحددة، إلا أن حساب التشابه بين عبارتين من عبارات العلامات باستخدام مسافة جاكارد في قاعدة بيانات ميلفوس يظل طريقة فعالة ودقيقة في مجموعة واسعة من السيناريوهات.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/Sohu02_d50fccc538.jpg" alt="Sohu02.jpg" class="doc-image" id="sohu02.jpg" />
   </span> <span class="img-wrapper"> <span>Sohu02.jpg</span> </span></p>
<h2 id="Overcoming-bad-cases-of-short-text-classification" class="common-anchor-header">التغلب على "الحالات السيئة" لتصنيف النصوص القصيرة<button data-href="#Overcoming-bad-cases-of-short-text-classification" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>عند تصنيف النصوص الإخبارية، تحتوي المقالات الإخبارية القصيرة على ميزات أقل لاستخراجها من المقالات الطويلة. ولهذا السبب، تفشل خوارزميات التصنيف عندما يتم تشغيل محتوى بأطوال مختلفة من خلال نفس المصنف. يساعد برنامج Milvus في حل هذه المشكلة من خلال البحث عن أجزاء متعددة من معلومات تصنيف النصوص الطويلة ذات الدلالات المتشابهة والنتائج الموثوقة، ثم استخدام آلية تصويت لتعديل تصنيف النصوص القصيرة.</p>
<h3 id="Identifying-and-resolving-misclassified-short-text" class="common-anchor-header">تحديد وحل مشكلة التصنيف الخاطئ للنص القصير</h3><p>يعد التصنيف الدقيق لكل مقال إخباري أمرًا بالغ الأهمية لتقديم توصيات مفيدة للمحتوى. نظرًا لأن المقالات الإخبارية القصيرة تحتوي على عدد أقل من الميزات، فإن تطبيق المصنف نفسه على الأخبار ذات الأطوال المختلفة يؤدي إلى معدل خطأ أعلى لتصنيف النصوص القصيرة. يعد التصنيف البشري بطيئًا للغاية وغير دقيق لهذه المهمة، لذلك يتم استخدام BERT كخدمة وMilvus لتحديد النصوص القصيرة التي تم تصنيفها بشكل خاطئ على دفعات، وإعادة تصنيفها بشكل صحيح، ثم استخدام مجموعات من البيانات كمجموعة من البيانات للتدريب على مواجهة هذه المشكلة.</p>
<p>يُستخدم برنامج BERT-as-service لترميز عدد إجمالي من خمسة ملايين مقال إخباري طويل بدرجة تصنيف أكبر من 0.9 في متجهات دلالية. بعد إدراج المقالات النصية الطويلة في "ميلفوس"، يتم ترميز الأخبار النصية القصيرة إلى متجهات دلالية. يتم استخدام كل متجه دلالي للأخبار القصيرة للاستعلام عن قاعدة بيانات ميلفوس والحصول على أفضل 20 مقالة إخبارية طويلة ذات أعلى تشابه في جيب التمام مع الأخبار القصيرة المستهدفة. إذا ظهر أن 18 من أفضل 20 خبرًا طويلًا متشابهًا دلاليًا من بين أفضل 20 خبرًا طويلًا متشابهًا دلاليًا في نفس التصنيف ويختلف عن تصنيف الأخبار القصيرة المستهدفة فإن تصنيف الأخبار القصيرة يعتبر غير صحيح ويجب تعديله ليتماشى مع الـ 18 خبرًا طويلًا.</p>
<p>تقوم هذه العملية بتحديد وتصحيح التصنيفات غير الدقيقة للأخبار القصيرة بسرعة. تُظهر إحصائيات أخذ العينات العشوائية أنه بعد تصحيح تصنيفات النصوص القصيرة، تتجاوز الدقة الإجمالية لتصنيف النص 95%. من خلال الاستفادة من تصنيف النصوص الطويلة ذات الثقة العالية لتصحيح تصنيف النصوص القصيرة، يتم تصحيح غالبية حالات التصنيف السيئة في فترة زمنية قصيرة. يوفر هذا أيضًا مجموعة جيدة لتدريب مصنف النصوص القصيرة.</p>
<p>!"[Sohu03.jpg] (https://assets.zilliz.com/Sohu03_a43074cf5f.jpg "مخطط انسيابي لاكتشاف "الحالات السيئة" لتصنيف النصوص القصيرة.")</p>
<h2 id="Milvus-can-power-real-time-news-content-recommendation-and-more" class="common-anchor-header">يمكن لـ Milvus تشغيل التوصية بالمحتوى الإخباري في الوقت الحقيقي والمزيد<button data-href="#Milvus-can-power-real-time-news-content-recommendation-and-more" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>حسّنت Milvus بشكل كبير من أداء نظام التوصية بالأخبار في الوقت الفعلي لنظام التوصية بالأخبار في Sohu، وعززت أيضًا كفاءة تحديد النصوص القصيرة التي تم تصنيفها بشكل خاطئ. إذا كنت مهتمًا بمعرفة المزيد عن ميلفوس وتطبيقاته المختلفة:</p>
<ul>
<li>اقرأ <a href="https://zilliz.com/blog">مدونتنا</a>.</li>
<li>تفاعل مع مجتمعنا مفتوح المصدر على <a href="https://join.slack.com/t/milvusio/shared_invite/zt-e0u4qu3k-bI2GDNys3ZqX1YCJ9OM~GQ">Slack</a>.</li>
<li>استخدم أو ساهم في قاعدة بيانات المتجهات الأكثر شعبية في العالم على <a href="https://github.com/milvus-io/milvus/">GitHub</a>.</li>
<li>اختبر تطبيقات الذكاء الاصطناعي وانشرها بسرعة من خلال <a href="https://github.com/milvus-io/bootcamp">معسكرنا التدريبي</a> الجديد.</li>
</ul>
