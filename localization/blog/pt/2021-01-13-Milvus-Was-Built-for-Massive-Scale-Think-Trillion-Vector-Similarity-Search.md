---
id: Milvus-Was-Built-for-Massive-Scale-Think-Trillion-Vector-Similarity-Search.md
title: >-
  Milvus foi criado para pesquisa de similaridade de vectores em grande escala
  (pense em triliões)
author: milvus
date: 2021-01-13T08:56:00.480Z
desc: >-
  Explore o poder do código aberto no seu próximo projeto de IA ou de
  aprendizagem automática. Faça a gestão de dados vectoriais em grande escala e
  potencie a pesquisa por semelhança com o Milvus.
cover: assets.zilliz.com/1_9a6be0b54f.jpg
tag: Engineering
canonicalUrl: >-
  https://zilliz.com/blog/Milvus-Was-Built-for-Massive-Scale-Think-Trillion-Vector-Similarity-Search
---
<custom-h1>O Milvus foi criado para pesquisa de similaridade de vectores em grande escala (pense em triliões)</custom-h1><p>Todos os dias, um número incalculável de informações críticas para os negócios é desperdiçado porque as empresas não conseguem entender seus próprios dados. Estima-se que os dados não estruturados, como texto, imagem, vídeo e áudio, representem 80% de todos os dados, mas apenas 1% é analisado. Felizmente, <a href="https://medium.com/unstructured-data-service/the-easiest-way-to-search-among-1-billion-image-vectors-d6faf72e361f">a inteligência artificial (IA)</a>, o software de código aberto e a lei de Moore estão a tornar a análise à escala da máquina mais acessível do que nunca. Utilizando a pesquisa de semelhança de vectores, é possível extrair valor de enormes conjuntos de dados não estruturados. Esta técnica envolve a conversão de dados não estruturados em vectores de caraterísticas, um formato de dados numéricos de fácil utilização que pode ser processado e analisado em tempo real.</p>
<p>A pesquisa de semelhança de vectores tem aplicações que abrangem o comércio eletrónico, a segurança, o desenvolvimento de novos medicamentos e muito mais. Estas soluções baseiam-se em conjuntos de dados dinâmicos que contêm milhões, milhares de milhões ou mesmo triliões de vectores, e a sua utilidade depende frequentemente do retorno de resultados quase instantâneos. <a href="https://milvus.io/">O Milvus</a> é uma solução de gestão de dados vectoriais de código aberto criada de raiz para gerir e pesquisar eficazmente grandes conjuntos de dados vectoriais. Este artigo aborda a abordagem da Milvus à gestão de dados vectoriais, bem como a forma como a plataforma foi optimizada para a pesquisa de semelhanças vectoriais.</p>
<p><strong>Ir para:</strong></p>
<ul>
<li><a href="#milvus-was-built-for-massive-scale-think-trillion-vector-similarity-search">Milvus foi criado para pesquisa de similaridade de vetores em grande escala (pense em trilhões)</a><ul>
<li><a href="#lsm-trees-keep-dynamic-data-management-efficient-at-massive-scales">As árvores LSM mantêm a gestão dinâmica de dados eficiente em escalas massivas</a>- <a href="#a-segment-of-10-dimensional-vectors-in-milvus"><em>Um segmento de vectores de 10 dimensões em Milvus.</em></a></li>
<li><a href="#data-management-is-optimized-for-rapid-access-and-limited-fragmentation">A gestão de dados é optimizada para um acesso rápido e uma fragmentação limitada</a>- <a href="#an-illustration-of-inserting-vectors-in-milvus"><em>Uma ilustração da inserção de vectores em Milvus</em></a>- <a href="#queried-data-files-before-the-merge"><em>Ficheiros de dados consultados antes da fusão</em></a>- <a href="#queried-data-files-after-the-merge"><em>Ficheiros de dados consultados após a fusão</em></a></li>
<li><a href="#similarity-searched-is-accelerated-by-indexing-vector-data">A pesquisa por semelhança é acelerada pela indexação dos dados vectoriais</a></li>
<li><a href="#learn-more-about-milvus">Saiba mais sobre o Milvus</a></li>
</ul></li>
</ul>
<h3 id="LSM-trees-keep-dynamic-data-management-efficient-at-massive-scales" class="common-anchor-header">As árvores LSM mantêm a gestão dinâmica de dados eficiente em escalas massivas</h3><p>Para proporcionar uma gestão de dados dinâmica e eficiente, o Milvus utiliza uma estrutura de dados de árvore de fusão estruturada por registo (árvore LSM). As árvores LSM são adequadas para aceder a dados com um elevado número de inserções e eliminações. Para obter informações pormenorizadas sobre atributos específicos das árvores LSM que ajudam a garantir uma gestão de dados dinâmica de elevado desempenho, consulte a <a href="http://paperhub.s3.amazonaws.com/18e91eb4db2114a06ea614f0384f2784.pdf">investigação original</a> publicada pelos seus inventores. As árvores LSM são a estrutura de dados subjacente utilizada por muitas bases de dados populares, incluindo <a href="https://cloud.google.com/bigtable">BigTable</a>, <a href="https://cassandra.apache.org/">Cassandra</a> e <a href="https://rocksdb.org/">RocksDB</a>.</p>
<p>Os vectores existem como entidades no Milvus e são armazenados em segmentos. Cada segmento contém de um a cerca de 8 milhões de entidades. Cada entidade tem campos para um ID único e entradas de vetor, com o último representando qualquer lugar de 1 a 32768 dimensões.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/Blog_Milvus_Was_Built_for_Massive_Scale_Think_Trillion_Vector_Similarity_Search_2_492d31c7a0.png" alt="Blog_Milvus Was Built for Massive-Scale (Think Trillion) Vector Similarity Search_2.png" class="doc-image" id="blog_milvus-was-built-for-massive-scale-(think-trillion)-vector-similarity-search_2.png" />
   </span> <span class="img-wrapper"> <span>Blog_Milvus foi criado para pesquisa de similaridade de vetores em grande escala (pense em trilhões)_2.png</span> </span></p>
<h3 id="Data-management-is-optimized-for-rapid-access-and-limited-fragmentation" class="common-anchor-header">O gerenciamento de dados é otimizado para acesso rápido e fragmentação limitada</h3><p>Ao receber um pedido de inserção, o Milvus escreve novos dados no <a href="https://milvus.io/docs/v0.11.0/write_ahead_log.md">registo de escrita antecipada (WAL)</a>. Depois que a solicitação é gravada com sucesso no arquivo de log, os dados são gravados em um buffer mutável. Por fim, um dos três gatilhos faz com que o buffer se torne imutável e seja transferido para o disco:</p>
<ol>
<li><strong>Intervalos de tempo:</strong> Os dados são regularmente descarregados para o disco em intervalos definidos (1 segundo por defeito).</li>
<li><strong>Tamanho do buffer:</strong> Os dados acumulados atingem o limite superior do buffer mutável (128 MB).</li>
<li><strong>Acionamento manual:</strong> Os dados são descarregados manualmente para o disco quando o cliente chama a função de descarga.</li>
</ol>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/Blog_Milvus_Was_Built_for_Massive_Scale_Think_Trillion_Vector_Similarity_Search_3_852dc2c9bb.png" alt="Blog_Milvus Was Built for Massive-Scale (Think Trillion) Vector Similarity Search_3.png" class="doc-image" id="blog_milvus-was-built-for-massive-scale-(think-trillion)-vector-similarity-search_3.png" />
   </span> <span class="img-wrapper"> <span>Blog_Milvus foi criado para pesquisa de similaridade vetorial em grande escala (pense em trilhões)_3.png</span> </span></p>
<p>Os usuários podem adicionar dezenas ou milhões de vetores de cada vez, gerando arquivos de dados de tamanhos diferentes à medida que novos vetores são inseridos. Isso resulta em fragmentação que pode complicar o gerenciamento de dados e tornar a pesquisa de similaridade de vetores mais lenta. Para evitar a fragmentação excessiva dos dados, o Milvus funde constantemente os segmentos de dados até que o tamanho combinado do ficheiro atinja um limite configurável pelo utilizador (por exemplo, 1 GB). Por exemplo, dado um limite superior de 1 GB, a inserção de 100 milhões de vectores de 512 dimensões resultará em apenas ~200 ficheiros de dados.</p>
<p>Em cenários de computação incremental em que os vectores são inseridos e pesquisados em simultâneo, o Milvus torna os dados vectoriais recentemente inseridos imediatamente disponíveis para pesquisa antes de os fundir com outros dados. Após a fusão dos dados, os ficheiros de dados originais serão removidos e o ficheiro fundido recém-criado será utilizado para pesquisa.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/Blog_Milvus_Was_Built_for_Massive_Scale_Think_Trillion_Vector_Similarity_Search_4_6bef3d914c.png" alt="Blog_Milvus Was Built for Massive-Scale (Think Trillion) Vector Similarity Search_4.png" class="doc-image" id="blog_milvus-was-built-for-massive-scale-(think-trillion)-vector-similarity-search_4.png" />
   </span> <span class="img-wrapper"> <span>Blog_Milvus foi criado para pesquisa de similaridade de vectores em grande escala (Think Trillion)_4.png</span> </span></p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/Blog_Milvus_Was_Built_for_Massive_Scale_Think_Trillion_Vector_Similarity_Search_5_3851c2d789.png" alt="Blog_Milvus Was Built for Massive-Scale (Think Trillion) Vector Similarity Search_5.png" class="doc-image" id="blog_milvus-was-built-for-massive-scale-(think-trillion)-vector-similarity-search_5.png" />
   </span> <span class="img-wrapper"> <span>Blog_Milvus foi criado para pesquisa de semelhanças vectoriais em grande escala (pense em biliões)_5.png</span> </span></p>
<h3 id="Similarity-searched-is-accelerated-by-indexing-vector-data" class="common-anchor-header">A pesquisa por similaridade é acelerada pela indexação de dados vetoriais</h3><p>Por predefinição, o Milvus baseia-se na pesquisa de força bruta quando consulta dados vectoriais. Também conhecida como pesquisa exaustiva, esta abordagem verifica todos os dados vetoriais cada vez que uma consulta é executada. Com conjuntos de dados que contêm milhões ou milhares de milhões de vectores multidimensionais, este processo é demasiado lento para ser útil na maioria dos cenários de pesquisa por semelhança. Para ajudar a acelerar o tempo de consulta, são utilizados algoritmos para construir um índice vetorial. Os dados indexados são agrupados de modo a que os vectores semelhantes fiquem mais próximos uns dos outros, permitindo que o motor de pesquisa por semelhança consulte apenas uma parte dos dados totais, reduzindo drasticamente os tempos de consulta sem sacrificar a precisão.</p>
<p>A maioria dos tipos de índices vectoriais suportados pelo Milvus utilizam algoritmos de pesquisa ANN (approximate nearest neighbor). Existem inúmeros índices ANN, e cada um vem com compensações entre desempenho, precisão e requisitos de armazenamento. O Milvus suporta índices baseados em quantização, gráficos e árvores, todos eles servindo diferentes cenários de aplicação. Consulte a <a href="https://milvus.io/docs/v0.11.0/index.md#CPU">documentação técnica</a> do Milvus para obter mais informações sobre a criação de índices e os tipos específicos de índices vetoriais que ele suporta.</p>
<p>A criação de índices gera muitos metadados. Por exemplo, a indexação de 100 milhões de vectores de 512 dimensões guardados em 200 ficheiros de dados resultará em 200 ficheiros de índice adicionais. Para verificar eficazmente o estado dos ficheiros e eliminar ou inserir novos ficheiros, é necessário um sistema de gestão de metadados eficiente. O Milvus utiliza o processamento transacional em linha (OLTP), uma técnica de processamento de dados que é adequada para atualizar e/ou eliminar pequenas quantidades de dados numa base de dados. O Milvus utiliza SQLite ou MySQL para gerir os metadados.</p>
<h3 id="Learn-more-about-Milvus" class="common-anchor-header">Saiba mais sobre o Milvus</h3><p>O Milvus é uma plataforma de gestão de dados vectoriais de código aberto atualmente em incubação na <a href="https://lfaidata.foundation/">LF AI &amp; Data</a>, uma organização de cúpula da Linux Foundation. O Milvus foi tornado open source em 2019 pela <a href="https://zilliz.com">Zilliz</a>, a empresa de software de ciência de dados que iniciou o projeto. Mais informações sobre o Milvus podem ser encontradas em seu <a href="https://milvus.io/">site</a>. Se você estiver interessado em pesquisa de similaridade de vetor ou em usar a IA para desbloquear o potencial de dados não estruturados, junte-se à nossa <a href="https://github.com/milvus-io">comunidade de código aberto</a> no GitHub.</p>
