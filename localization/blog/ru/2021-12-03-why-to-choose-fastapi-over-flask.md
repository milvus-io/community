---
id: 2021-12-03-why-to-choose-fastapi-over-flask.md
title: Почему стоит выбрать FastAPI вместо Flask?
author: Yunmei
date: 2021-12-03T00:00:00.000Z
desc: выберите подходящий фреймворк в соответствии со сценарием вашего приложения
cover: assets.zilliz.com/1_d5de035def.png
tag: Engineering
isPublish: false
---
<p>Чтобы помочь вам быстро начать работу с Milvus, векторной базой данных с открытым исходным кодом, мы выпустили еще один связанный с ней проект с открытым исходным кодом, <a href="https://github.com/milvus-io/bootcamp">Milvus Bootcamp</a> на GitHub. Milvus Bootcamp не только предоставляет скрипты и данные для эталонных тестов, но и включает проекты, использующие Milvus для создания некоторых MVP (минимально жизнеспособных продуктов), таких как система обратного поиска изображений, система анализа видео, QA-чатбот или рекомендательная система. Вы сможете узнать, как применять векторный поиск по сходству в мире, полном неструктурированных данных, и получить практический опыт в Milvus Bootcamp.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/2_5b60157b4d.png" alt="2.png" class="doc-image" id="2.png" />
   </span> <span class="img-wrapper"> <span>2.png</span> </span></p>
<p>Мы предоставляем как front-end, так и back-end услуги для проектов в Milvus Bootcamp. Однако недавно мы приняли решение сменить используемый веб-фреймворк с Flask на FastAPI.</p>
<p>Цель этой статьи - объяснить мотивы, побудившие нас сменить веб-фреймворк для Milvus Bootcamp, и пояснить, почему мы выбрали FastAPI вместо Flask.</p>
<h2 id="Web-frameworks-for-Python" class="common-anchor-header">Веб-фреймворки для Python<button data-href="#Web-frameworks-for-Python" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Под веб-фреймворком понимается набор пакетов или модулей. Это набор программных архитектур для веб-разработки, который позволяет писать веб-приложения или сервисы и избавляет вас от необходимости разбираться с низкоуровневыми деталями, такими как протоколы, сокеты или управление процессами/потоками. Использование веб-фреймворка позволяет значительно снизить объем работы по разработке веб-приложений, так как вы можете просто "подключить" свой код к фреймворку, без необходимости уделять дополнительное внимание кэшированию данных, доступу к базам данных и проверке безопасности данных. Подробнее о том, что такое веб-фреймворк для Python, читайте в разделе <a href="https://wiki.python.org/moin/WebFrameworks">Веб-фреймворки</a>.</p>
<p>Существуют различные типы веб-фреймворков для Python. К основным относятся Django, Flask, Tornado и FastAPI.</p>
<h3 id="Flask" class="common-anchor-header">Flask</h3><p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/3_1abd170939.png" alt="3.png" class="doc-image" id="3.png" />
   </span> <span class="img-wrapper"> <span>3.png</span> </span></p>
<p><a href="https://flask.palletsprojects.com/en/2.0.x/">Flask</a> - это легкий микрофреймворк, разработанный для Python, с простым и удобным ядром, которое позволяет разрабатывать собственные веб-приложения. Кроме того, ядро Flask является расширяемым. Таким образом, Flask поддерживает расширение различных функций по требованию, чтобы удовлетворить ваши индивидуальные потребности при разработке веб-приложений. Иными словами, используя библиотеку различных плагинов Flask, вы можете создавать мощные веб-сайты.</p>
<p>Flask обладает следующими характеристиками:</p>
<ol>
<li>Flask - это микрофреймворк, который не зависит от других специфических инструментов или компонентов сторонних библиотек для обеспечения общих функциональных возможностей. Flask не имеет слоя абстракции базы данных и не требует проверки форм. Тем не менее, Flask обладает высокой расширяемостью и поддерживает добавление функциональности приложения способом, аналогичным реализации в самом Flask. К числу таких расширений относятся объектно-реляционные мапперы, проверка форм, обработка загрузок, технологии открытой аутентификации и некоторые общие инструменты, разработанные для веб-фреймворков.</li>
<li>Flask - это фреймворк для веб-приложений, основанный на <a href="https://wsgi.readthedocs.io/">WSGI</a> (Web Server Gateway Interface). WSGI - это простой интерфейс, соединяющий веб-сервер с веб-приложением или фреймворком, разработанным на языке Python.</li>
<li>Flask включает в себя две библиотеки основных функций, <a href="https://www.palletsprojects.com/p/werkzeug">Werkzeug</a> и <a href="https://www.palletsprojects.com/p/jinja">Jinja2</a>. Werkzeug - это инструментарий WSGI, реализующий объекты запросов, ответов и практические функции, что позволяет строить на его основе веб-фреймворки. Jinja2 - популярный полнофункциональный шаблонизатор для Python. Он имеет полную поддержку Unicode, а также необязательную, но широко распространенную интегрированную среду исполнения "песочница".</li>
</ol>
<h3 id="FastAPI" class="common-anchor-header">FastAPI</h3><p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/4_05cb0dac4e.png" alt="4.png" class="doc-image" id="4.png" />
   </span> <span class="img-wrapper"> <span>4.png</span> </span></p>
<p><a href="https://fastapi.tiangolo.com/">FastAPI</a> - это современный фреймворк для веб-приложений на Python, который по уровню высокой производительности не уступает Go и NodeJS. В основе FastAPI лежат <a href="https://www.starlette.io/">Starlette</a> и <a href="https://pydantic-docs.helpmanual.io/">Pydantic</a>. Starlette - это легкий фреймворк <a href="https://asgi.readthedocs.io/">ASGI</a>(Asynchronous Server Gateway Interface) для создания высокопроизводительных сервисов <a href="https://docs.python.org/3/library/asyncio.html">Asyncio</a>. Pydantic - это библиотека, определяющая проверку, сериализацию и документирование данных на основе подсказок типов Python.</p>
<p>FastAPI обладает следующими характеристиками:</p>
<ol>
<li>FastAPI - это фреймворк для веб-приложений, основанный на ASGI, асинхронном шлюзовом протокольном интерфейсе, соединяющем службы сетевых протоколов и Python-приложения. FastAPI может работать с различными распространенными типами протоколов, включая HTTP, HTTP2 и WebSocket.</li>
<li>FastAPI основан на Pydantic, который обеспечивает функцию проверки типа данных интерфейса. Вам не нужно дополнительно проверять параметры интерфейса или писать дополнительный код для проверки того, пусты ли параметры или корректен ли тип данных. Использование FastAPI позволяет эффективно избежать человеческих ошибок в коде и повысить эффективность разработки.</li>
<li>FastAPI поддерживает документы в двух форматах - <a href="https://swagger.io/specification/">OpenAPI</a> (ранее Swagger) и <a href="https://www.redoc.com/">Redoc</a>. Поэтому вам, как пользователю, не нужно тратить время на написание дополнительных интерфейсных документов. Документ OpenAPI, предоставляемый FastAPI, показан на скриншоте ниже.</li>
</ol>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="https://assets.zilliz.com/5_d91d34cb0f.png" alt="5.png" class="doc-image" id="5.png" />
   </span> <span class="img-wrapper"> <span>5.png</span> </span></p>
<h3 id="Flask-Vs-FastAPI" class="common-anchor-header">Flask против FastAPI</h3><p>В таблице ниже показаны различия между Flask и FastAPI по нескольким аспектам.</p>
<table>
<thead>
<tr><th></th><th><strong>FastAPI</strong></th><th><strong>Flask</strong></th></tr>
</thead>
<tbody>
<tr><td><strong>Интерфейсный шлюз</strong></td><td>ASGI</td><td>WSGI</td></tr>
<tr><td><strong>Асинхронный фреймворк</strong></td><td>✅</td><td>❌</td></tr>
<tr><td><strong>Производительность</strong></td><td>Быстрее</td><td>Медленнее</td></tr>
<tr><td><strong>Интерактивный документ</strong></td><td>OpenAPI, Redoc</td><td>Нет</td></tr>
<tr><td><strong>Проверка данных</strong></td><td>✅</td><td>❌</td></tr>
<tr><td><strong>Затраты на разработку</strong></td><td>Ниже</td><td>Выше</td></tr>
<tr><td><strong>Простота использования</strong></td><td>Ниже</td><td>Выше</td></tr>
<tr><td><strong>Гибкость</strong></td><td>Менее гибкий</td><td>Более гибкий</td></tr>
<tr><td><strong>Сообщество</strong></td><td>Меньше</td><td>Более активное</td></tr>
</tbody>
</table>
<h2 id="Why-FastAPI" class="common-anchor-header">Почему FastAPI?<button data-href="#Why-FastAPI" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Прежде чем решить, какой фреймворк для веб-приложений на Python выбрать для проектов в Milvus Bootcamp, мы изучили несколько основных фреймворков, включая Django, Flask, FastAPI, Tornado и другие. Поскольку проекты в Milvus Bootcamp служат для вас эталонами, наш приоритет - выбрать внешний фреймворк, обладающий максимальной легкостью и функциональностью. В соответствии с этим правилом мы сузили наш выбор до Flask и FastAPI.</p>
<p>Сравнение этих двух веб-фреймворков вы можете увидеть в предыдущем разделе. Ниже мы подробно объясним, почему для проектов в Milvus Bootcamp мы выбрали FastAPI, а не Flask. Причин несколько:</p>
<h3 id="1-Performance" class="common-anchor-header">1. Производительность</h3><p>Большинство проектов в Milvus Bootcamp построены на системах обратного поиска изображений, QA-чатботах, текстовых поисковых системах, которые предъявляют высокие требования к обработке данных в реальном времени. Соответственно, нам нужен фреймворк с выдающейся производительностью, что как раз и является изюминкой FastAPI. Поэтому, с точки зрения производительности системы, мы решили выбрать FastAPI.</p>
<h3 id="2-Efficiency" class="common-anchor-header">2. Эффективность</h3><p>При использовании Flask необходимо писать код для проверки типа данных в каждом из интерфейсов, чтобы система могла определить, являются ли входные данные пустыми или нет. Однако, поддерживая автоматическую проверку типов данных, FastAPI помогает избежать человеческих ошибок при кодировании во время разработки системы и значительно повысить эффективность разработки. Bootcamp позиционируется как тип обучающего ресурса. Это означает, что код и компоненты, которые мы используем, должны быть интуитивно понятными и высокоэффективными. В связи с этим мы выбрали FastAPI для повышения эффективности системы и улучшения пользовательского опыта.</p>
<h3 id="3-Asynchronous-framework" class="common-anchor-header">3. Асинхронный фреймворк</h3><p>FastAPI по своей сути является асинхронным фреймворком. Изначально мы выпустили четыре <a href="https://zilliz.com/milvus-demos?isZilliz=true">демо-версии</a>: обратный поиск изображений, анализ видео, QA-чатбот и поиск молекулярного сходства. В этих демках вы можете загружать наборы данных и сразу же получать запрос &quot;запрос получен&quot;. А когда данные будут загружены в демонстрационную систему, вы получите еще одно сообщение &quot;загрузка данных успешна&quot;. Это асинхронный процесс, который требует наличия фреймворка, поддерживающего эту функцию. FastAPI сам по себе является асинхронным фреймворком. Чтобы объединить все ресурсы Milvus, мы решили использовать единый набор инструментов и программного обеспечения для разработки как Milvus Bootcamp, так и демонстрационных версий Milvus. В результате мы сменили фреймворк с Flask на FastAPI.</p>
<h3 id="4-Automatic-interactive-documents" class="common-anchor-header">4. Автоматические интерактивные документы</h3><p>В традиционном варианте, когда вы заканчиваете писать код для серверной части, вам нужно написать дополнительный документ для создания интерфейса, а затем использовать инструменты вроде <a href="https://www.postman.com/">Postman</a> для тестирования и отладки API. Что же делать, если вы хотите быстро приступить к разработке серверной части проектов в Milvus Bootcamp без написания дополнительного кода для создания интерфейса? FastAPI - это решение. Предоставляя документ OpenAPI, FastAPI может избавить вас от необходимости тестировать или отлаживать API и сотрудничать с командами разработчиков внешнего интерфейса для создания пользовательского интерфейса. С помощью FastAPI вы сможете быстро опробовать собранное приложение с автоматическим, но интуитивно понятным интерфейсом без дополнительных усилий по кодированию.</p>
<h3 id="5-User-friendliness" class="common-anchor-header">5. Удобство использования</h3><p>FastAPI проще в использовании и разработке, что позволяет уделять больше внимания конкретной реализации проекта. Не тратя много времени на разработку веб-фреймворков, вы можете больше сосредоточиться на понимании проектов в Milvus Bootcamp.</p>
<h2 id="Recap" class="common-anchor-header">Обзор<button data-href="#Recap" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>У Flask и FlastAPI есть свои плюсы и минусы. Flask - это развивающийся фреймворк для веб-приложений, а FlastAPI, по своей сути, построен на базе зрелых наборов инструментов и библиотек, Starlette и Pydantic. FastAPI - это асинхронный фреймворк с высокой производительностью. Его гибкость, расширяемость, поддержка автоматической проверки типов данных, а также множество других мощных возможностей побудили нас принять FastAPI в качестве фреймворка для проектов Milvus Bootcamp.</p>
<p>Обратите внимание, что если вы хотите построить систему поиска векторного сходства на производстве, вам следует выбрать подходящий фреймворк в соответствии с вашим сценарием применения.</p>
<h2 id="About-the-author" class="common-anchor-header">Об авторе<button data-href="#About-the-author" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Юньмэй Ли, инженер по данным Zilliz, окончила Хуачжунский университет науки и технологий по специальности "информатика". С момента прихода в Zilliz она работает над поиском решений для проекта Milvus с открытым исходным кодом и помогает пользователям применять Milvus в реальных сценариях. Ее основное внимание сосредоточено на НЛП и рекомендательных системах, и она хотела бы еще больше углубиться в эти две области. Она любит проводить время в одиночестве и читать.</p>
<h2 id="Looking-for-more-resources" class="common-anchor-header">Ищете больше ресурсов?<button data-href="#Looking-for-more-resources" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><ul>
<li><p>Начните создавать системы искусственного интеллекта с помощью Milvus и получите больше практического опыта, читая наши учебники!</p>
<ul>
<li><a href="https://milvus.io/blog/2021-10-10-milvus-helps-analys-vedios.md">Что это такое? Кто она? Milvus помогает интеллектуально анализировать видео</a></li>
<li><a href="https://milvus.io/blog/2021-09-26-onnx.md">Объединение моделей ИИ для поиска изображений с помощью ONNX и Milvus</a></li>
<li><a href="https://milvus.io/blog/dna-sequence-classification-based-on-milvus.md">Классификация последовательностей ДНК на основе Milvus</a></li>
<li><a href="https://milvus.io/blog/audio-retrieval-based-on-milvus.md">Поиск аудиозаписей на основе Milvus</a></li>
<li><a href="https://milvus.io/blog/building-video-search-system-with-milvus.md">4 шага к созданию системы поиска видео</a></li>
<li><a href="https://milvus.io/blog/building-intelligent-chatbot-with-nlp-and-milvus.md">Создание интеллектуальной системы контроля качества с помощью НЛП и Milvus</a></li>
<li><a href="https://milvus.io/blog/molecular-structure-similarity-with-milvus.md">Ускорение открытия новых лекарств</a></li>
</ul></li>
<li><p>Присоединяйтесь к нашему сообществу разработчиков с открытым исходным кодом:</p>
<ul>
<li>Найдите Milvus на <a href="https://bit.ly/307b7jC">GitHub</a> или внесите в него свой вклад.</li>
<li>Общайтесь с сообществом на <a href="https://bit.ly/3qiyTEk">форуме</a>.</li>
<li>Общайтесь с нами в <a href="https://bit.ly/3ob7kd8">Twitter</a>.</li>
</ul></li>
</ul>
