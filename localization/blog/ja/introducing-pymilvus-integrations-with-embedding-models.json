{"codeList":["pip install \"pymilvus[model]\"\n","from pymilvus import model\n\n# This will download \"all-MiniLM-L6-v2\", a lightweight model.\nef = model.DefaultEmbeddingFunction()\n\n# Data from which embeddings are to be generated\ndocs = [\n   \"Artificial intelligence was founded as an academic discipline in 1956.\",\n   \"Alan Turing was the first person to conduct substantial research in AI.\",\n   \"Born in Maida Vale, London, Turing was raised in southern England.\",\n]\n\nembeddings = ef.encode_documents(docs)\n\nprint(\"Embeddings:\", embeddings)\n# Print dimension and shape of embeddings\nprint(\"Dim:\", ef.dim, embeddings[0].shape)\n","Embeddings: [array([-3.09392996e-02, -1.80662833e-02,  1.34775648e-02,  2.77156215e-02,\n      -4.86349640e-03, -3.12581174e-02, -3.55921760e-02,  5.76934684e-03,\n       2.80773244e-03,  1.35783911e-01,  3.59678417e-02,  6.17732145e-02,\n...\n      -4.61330153e-02, -4.85207550e-02,  3.13997865e-02,  7.82178566e-02,\n      -4.75336798e-02,  5.21207601e-02,  9.04406682e-02, -5.36676683e-02],\n     dtype=float32)]\nDim: 384 (384,)\n","from pymilvus.model.sparse import BM25EmbeddingFunction\n\n# 1. Prepare a small corpus to search\ndocs = [\n   \"Artificial intelligence was founded as an academic discipline in 1956.\",\n   \"Alan Turing was the first person to conduct substantial research in AI.\",\n   \"Born in Maida Vale, London, Turing was raised in southern England.\",\n]\nquery = \"Where was Turing born?\"\nbm25_ef = BM25EmbeddingFunction()\n\n# 2. Fit the corpus to get BM25 model parameters on your documents.\nbm25_ef.fit(docs)\n\n# 3. Store the fitted parameters to expedite future processing.\nbm25_ef.save(\"bm25_params.json\")\n\n# 4. Load the saved params\nnew_bm25_ef = BM25EmbeddingFunction()\nnew_bm25_ef.load(\"bm25_params.json\")\n\ndocs_embeddings = new_bm25_ef.encode_documents(docs)\nquery_embeddings = new_bm25_ef.encode_queries([query])\nprint(\"Dim:\", new_bm25_ef.dim, list(docs_embeddings)[0].shape)\n","from pymilvus.model.reranker import JinaRerankFunction\n\njina_api_key = \"<YOUR_JINA_API_KEY>\"\n\nrf = JinaRerankFunction(\"jina-reranker-v1-base-en\", jina_api_key)\n\nquery = \"What event in 1956 marked the official birth of artificial intelligence as a discipline?\"\n\ndocuments = [\n   \"In 1950, Alan Turing published his seminal paper, 'Computing Machinery and Intelligence,' proposing the Turing Test as a criterion of intelligence, a foundational concept in the philosophy and development of artificial intelligence.\",\n   \"The Dartmouth Conference in 1956 is considered the birthplace of artificial intelligence as a field; here, John McCarthy and others coined the term 'artificial intelligence' and laid out its basic goals.\",\n   \"In 1951, British mathematician and computer scientist Alan Turing also developed the first program designed to play chess, demonstrating an early example of AI in game strategy.\",\n   \"The invention of the Logic Theorist by Allen Newell, Herbert A. Simon, and Cliff Shaw in 1955 marked the creation of the first true AI program, which was capable of solving logic problems, akin to proving mathematical theorems.\"\n]\n\nresults = rf(query, documents)\n\nfor result in results:\n   print(f\"Index: {result.index}\")\n   print(f\"Score: {result.score:.6f}\")\n   print(f\"Text: {result.text}\\n\")\n","Index: 1\nScore: 0.937096\nText: The Dartmouth Conference in 1956 is considered the birthplace of artificial intelligence as a field; here, John McCarthy and others coined the term 'artificial intelligence' and laid out its basic goals.\n\nIndex: 3\nScore: 0.354210\nText: The invention of the Logic Theorist by Allen Newell, Herbert A. Simon, and Cliff Shaw in 1955 marked the creation of the first true AI program, which was capable of solving logic problems, akin to proving mathematical theorems.\n\nIndex: 0\nScore: 0.349866\nText: In 1950, Alan Turing published his seminal paper, 'Computing Machinery and Intelligence,' proposing the Turing Test as a criterion of intelligence, a foundational concept in the philosophy and development of artificial intelligence.\n\nIndex: 2\nScore: 0.272896\nText: In 1951, British mathematician and computer scientist Alan Turing also developed the first program designed to play chess, demonstrating an early example of AI in game strategy.\n"],"headingContent":"","anchorList":[{"label":"密な埋め込みと疎な埋め込み","href":"Dense-vs-Sparse-Embeddings","type":2,"isActive":false},{"label":"埋め込みと再ランキング統合の使い方","href":"How-to-Use-Our-Embedding-and-Reranking-Integrations","type":2,"isActive":false},{"label":"GitHubにスターをつけ、Discordに参加しよう！","href":"Star-Us-On-GitHub-and-Join-Our-Discord","type":2,"isActive":false}]}