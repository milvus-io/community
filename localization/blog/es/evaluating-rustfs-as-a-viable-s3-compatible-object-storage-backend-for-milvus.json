{"codeList":["my-milvus-bucket/\n├── files/                          # rootPath (default)\n│   ├── insert_log/                 # insert binlogs\n│   │   └── {Collection_ID}/\n│   │       └── {Partition_ID}/\n│   │           └── {Segment_ID}/\n│   │               └── {Field_ID}/\n│   │                   └── {Log_ID}     # Per-field binlog files\n│   │\n│   ├── delta_log/                  # Delete binlogs\n│   │   └── {Collection_ID}/\n│   │       └── {Partition_ID}/\n│   │           └── {Segment_ID}/\n│   │               └── {Log_ID}        \n│   │\n│   ├── stats_log/                  # Statistical data (e.g., Bloom filters)\n│   │   └── {Collection_ID}/\n│   │       └── {Partition_ID}/\n│   │           └── {Segment_ID}/\n│   │               └── {Field_ID}/\n│   │                   └── {Log_ID}\n│   │\n│   └── index_files/                # Index files\n│       └── {Build_ID}_{Index_Version}_{Segment_ID}_{Field_ID}/\n│           ├── index_file_0\n│           ├── index_file_1\n│           └── ...\n","# Milvus configuration file milvus.yaml\nminio:\n address: localhost\n port: 9000\n accessKeyID: minioadmin\n secretAccessKey: minioadmin\n useSSL: false\n bucketName: milvus-bucket\n","# Create the project directory\nmkdir -p milvus-rustfs && cd milvus-rustfs\n# Create the data directory\nmkdir -p volumes/{rustfs, etcd, milvus}\n# Update permissions for the RustFS directory\nsudo chown -R 10001:10001 volumes/rustfs\n","wget https://github.com/milvus-io/milvus/releases/download/v2.6.7/milvus-standalone-docker-compose.yml -O docker-compose.yml\n","rustfs:\n container_name: milvus-rustfs\n image: registry.cn-hangzhou.aliyuncs.com/rustfs/rustfs: latest\n environment:\n RUSTFS_ACCESS_KEY: minioadmin\n RUSTFS_SECRET_KEY: minioadmin\n RUSTFS_CONSOLE_ENABLE: “true”\n RUSTFS_REGION: us-east-1\n # RUSTFS_SERVER_DOMAINS: localhost# Optional; not required for local deployments\n ports:\n - “9001:9001”\n - “9000:9000”\n volumes:\n - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/rustfs:/data\n command: >\n --address :9000\n --console-enable\n /data\n healthcheck:\n test: [“CMD”, “curl”, “-f”, “http://localhost:9000/health\"]\n interval: 30s\n timeout: 20s\n retries: 3\n","version: ‘3.5’\nservices:\n etcd:\n container_name: milvus-etcd\n image: registry.cn-hangzhou.aliyuncs.com/etcd/etcd: v3.5.25\n environment:\n - ETCD_AUTO_COMPACTION_MODE=revision\n - ETCD_AUTO_COMPACTION_RETENTION=1000\n - ETCD_QUOTA_BACKEND_BYTES=4294967296\n - ETCD_SNAPSHOT_COUNT=50000\n volumes:\n - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/etcd:/etcd\n command: etcd -advertise-client-urls=http://etcd:2379 -listen-client-urls http://0.0.0.0:2379 --data-dir /etcd\n healthcheck:\n test: [“CMD”, “etcdctl”, “endpoint”, “health”]\n interval: 30s\n timeout: 20s\n retries: 3\n rustfs:\n container_name: milvus-rustfs\n image: registry.cn-hangzhou.aliyuncs.com/rustfs/rustfs: latest\n environment:\n RUSTFS_ACCESS_KEY: minioadmin\n RUSTFS_SECRET_KEY: minioadmin\n RUSTFS_CONSOLE_ENABLE: “true”\n RUSTFS_REGION: us-east-1\n # RUSTFS_SERVER_DOMAINS: localhost# Optional; not required for local deployments\n ports:\n - “9001:9001”\n - “9000:9000”\n volumes:\n - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/rustfs:/data\n command: >\n --address :9000\n --console-enable\n /data\n healthcheck:\n test: [“CMD”, “curl”, “-f”, “http://localhost:9000/health\"]\n interval: 30s\n timeout: 20s\n retries: 3\n standalone:\n container_name: milvus-standalone\n image: registry.cn-hangzhou.aliyuncs.com/milvus/milvus: v2.6.7\n command: [”milvus“, ”run“, ”standalone“]\n security_opt:\n - seccomp: unconfined\n environment:\n MINIO_REGION: us-east-1\n ETCD_ENDPOINTS: etcd:2379\n MINIO_ADDRESS: rustfs:9000\n MINIO_ACCESS_KEY: minioadmin\n MINIO_SECRET_KEY: minioadmin\n MINIO_USE_SSL: ”false“\n MQ_TYPE: rocksmq\n volumes:\n - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/milvus:/var/lib/milvus\n healthcheck:\n test: [”CMD“, ”curl“, ”-f“, ”http://localhost:9091/healthz\"]\n interval: 30s\n start_period: 90s\n timeout: 20s\n retries: 3\n ports:\n - “19530:19530”\n - “9091:9091”\n depends_on:\n - “etcd”\n - “rustfs”\nnetworks:\n default:\n name: milvus\n","docker-compose -f docker-compose.yaml up -d\n","docker-compose ps -a\n","from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType\n# connect to Milvus\nconnections.connect(\n alias=\"default\",\n host='localhost',\n port='19530'\n)\nprint(\"✓ Successfully connected to Milvus!\")\n# create test collection\nfields = [\n FieldSchema(name=\"id\", dtype=DataType.INT64, is_primary=True, auto_id=True),\n FieldSchema(name=\"embedding\", dtype=DataType.FLOAT_VECTOR, dim=128)\n]\nschema = CollectionSchema(fields=fields, description=\"test collection\")\ncollection = Collection(name=\"test_collection\", schema=schema)\nprint(\"✓ Test collection created!\")\nprint(\"✓ RustFS verified as the S3 storage backend!\")\n\n### Step 3: Storage Performance Testing (Experimental)\n\n**Test Design**\n\nTwo Milvus deployments were set up on identical hardware (16 cores / 32 GB memory / NVMe SSD), using RustFS and MinIO respectively as the object storage backend. The test dataset consisted of 1,000,000 vectors with 768 dimensions, using an HNSW index with parameters _M = 16_ and _efConstruction = 200_. Data was inserted in batches of 5,000.\n\nThe following metrics were evaluated: Insert throughput, Index build time, Cold and warm load time, Search latency, Storage footprint.\n\n**Test Code**\n\nNote: Only the core parts of the test code are shown below.\n\n","\n**Test Command**\n\n","\n**Performance Results**\n\n- **RustFS**\n\nFaster writes (+57%), lower storage usage (–57%), and faster warm loads (+67%), making it suitable for write-heavy, cost-sensitive workloads. \n\nMuch slower queries (7.96 ms vs. 1.85 ms, ~+330% latency) with noticeable variance (up to 17.14 ms), and 43% slower index builds. Not suitable for query-intensive applications.\n\n- **MinIO**\n\nExcellent query performance (**1.85 ms** average latency), mature small-file and random I/O optimizations, and a well-established ecosystem.\n\n\n|     **Metric**    |  **RustFS**  |   **MinIO**  | **Difference** |\n| :---------------: | :----------: | :----------: | :------------: |\n| Insert Throughput | 4,472 rows/s | 2,845 rows/s |      0.57      |\n|  Index Build Time |     803 s    |     562 s    |      -43%      |\n| Load (Cold Start) |    22.7 s    |    18.3 s    |      -24%      |\n| Load (Warm Start) |    0.009 s   |    0.027 s   |      0.67      |\n|   Search Latency  |    7.96 ms   |    1.85 ms   |    **-330%**   |\n|   Storage Usage   |    7.8 GB    |    18.0 GB   |      0.57      |\n\nRustFS significantly outperforms MinIO in write performance and storage efficiency, with both showing roughly 57% improvement. This demonstrates the system-level advantages of the Rust ecosystem. However, the 330% gap in query latency limits RustFS’s suitability for query-intensive workloads.\n\nFor **production environments**, cloud-managed object storage services like **AWS S3** are recommended first, as they are mature, stable, and require no operational effort. Self-hosted solutions are better suited to specific scenarios: RustFS for cost-sensitive or write-intensive workloads, MinIO for query-intensive use cases, and Ceph for data sovereignty. With further optimization in random read performance, RustFS has the potential to become a strong self-hosted option.\n\n\n## Conclusion\n\nMinIO’s decision to stop accepting new community contributions is disappointing for many developers, but it won’t disrupt Milvus users. Milvus depends on the S3 API—not any specific vendor implementation—so swapping storage backends is straightforward. This S3-compatibility layer is intentional: it ensures Milvus stays flexible, portable, and decoupled from vendor lock-in.\n\nFor production deployments, cloud-managed services such as AWS S3 and Alibaba Cloud OSS remain the most reliable options. They’re mature, highly available, and drastically reduce the operational load compared to running your own object storage. Self-hosted systems like MinIO or Ceph still make sense in cost-sensitive environments or where data sovereignty is non-negotiable, but they require significantly more engineering overhead to operate safely at scale.\n\nRustFS is interesting—Apache 2.0-licensed, Rust-based, and community-driven—but it's still early. The performance gap is noticeable, and the distributed mode hasn’t shipped yet. It’s not production-ready today, but it’s a project worth watching as it matures.\n\nIf you’re comparing object storage options for Milvus, evaluating MinIO replacements, or weighing the operational trade-offs of different backends, we’d love to hear from you.\n\nJoin our[ Discord channel](https://discord.com/invite/8uyFbECzPX) and share your thoughts. You can also book a 20-minute one-on-one session to get insights, guidance, and answers to your questions through[ Milvus Office Hours](https://milvus.io/blog/join-milvus-office-hours-to-get-support-from-vectordb-experts.md).\n"],"headingContent":"RustFS: --port 19530 --s3-endpoint http://localhost:9000 --s3-bucket bench","anchorList":[{"label":"La arquitectura de Milvus y dónde se sitúa el componente de almacenamiento de objetos","href":"The-Milvus-Architecture-and-Where-the-Object-Storage-Component-Sits","type":2,"isActive":false},{"label":"Evaluación de RustFS como backend de almacenamiento de objetos compatible con S3 para Milvus","href":"Evaluating-RustFS-as-an-S3-Compatible-Object-Storage-Backend-for-Milvus","type":2,"isActive":false},{"label":"Práctica: Sustitución de MinIO por RustFS en Milvus","href":"Hands-On-Replacing-MinIO-with-RustFS-in-Milvus","type":2,"isActive":false}]}