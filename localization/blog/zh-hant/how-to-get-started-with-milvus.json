{"codeList":["$ mkdir milvus_compose\n$ cd milvus_compose\n$ wget https://github.com/milvus-io/milvus/releases/download/v2.2.8/milvus-standalone-docker-compose.yml -O docker-compose.yml\n--2023-04-10 16:44:13-- https://github.com/milvus-io/milvus/releases/download/v2.2.8/milvus-standalone-docker-compose.yml\nResolving github.com (github.com)... 140.82.113.3\nConnecting to github.com (github.com)|140.82.113.3|:443... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: https://objects.githubusercontent.com/github-production-release-asset-2e65be/208728772/c319ebef-7bcb-4cbf-82d8-dcd3c54cb3af?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230410%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230410T204413Z&X-Amz-Expires=300&X-Amz-Signature=b26b9b461fd3a92ab17e42e5a68b268b12a56cb07db57cf4db04e38a8e74525a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=208728772&response-content-disposition=attachment%3B%20filename%3Dmilvus-standalone-docker-compose.yml&response-content-type=application%2Foctet-stream [following]\n--2023-04-10 16:44:13-- https://objects.githubusercontent.com/github-production-release-asset-2e65be/208728772/c319ebef-7bcb-4cbf-82d8-dcd3c54cb3af?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230410%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230410T204413Z&X-Amz-Expires=300&X-Amz-Signature=b26b9b461fd3a92ab17e42e5a68b268b12a56cb07db57cf4db04e38a8e74525a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=208728772&response-content-disposition=attachment%3B%20filename%3Dmilvus-standalone-docker-compose.yml&response-content-type=application%2Foctet-stream\nResolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.110.133, 185.199.111.133, 185.199.109.133, ...\nConnecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.110.133|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1356 (1.3K) [application/octet-stream]\nSaving to: ‘docker-compose.yml’\n\ndocker-compose.yml 100%[==========================================================>] 1.32K --.-KB/s in 0s\n\n2023-04-10 16:44:13 (94.2 MB/s) - ‘docker-compose.yml’ saved [1356/1356]\n","version: '3.5'\n\nservices:\n  etcd:\n    container_name: milvus-etcd\n    image: quay.io/coreos/etcd:v3.5.0\n    environment:\n      - ETCD_AUTO_COMPACTION_MODE=revision\n      - ETCD_AUTO_COMPACTION_RETENTION=1000\n      - ETCD_QUOTA_BACKEND_BYTES=4294967296\n      - ETCD_SNAPSHOT_COUNT=50000\n    volumes:\n      - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/etcd:/etcd\n    command: etcd -advertise-client-urls=http://127.0.0.1:2379 -listen-client-urls http://0.0.0.0:2379 --data-dir /etcd\n\n  minio:\n    container_name: milvus-minio\n    image: minio/minio:RELEASE.2023-03-20T20-16-18Z\n    environment:\n      MINIO_ACCESS_KEY: minioadmin\n      MINIO_SECRET_KEY: minioadmin\n    volumes:\n      - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/minio:/minio_data\n    command: minio server /minio_data\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:9000/minio/health/live\"]\n      interval: 30s\n      timeout: 20s\n      retries: 3\n\n  standalone:\n    container_name: milvus-standalone\n    image: milvusdb/milvus:v2.2.8\n    command: [\"milvus\", \"run\", \"standalone\"]\n    environment:\n      ETCD_ENDPOINTS: etcd:2379\n      MINIO_ADDRESS: minio:9000\n    volumes:\n      - ${DOCKER_VOLUME_DIRECTORY:-.}/volumes/milvus:/var/lib/milvus\n    ports:\n      - \"19530:19530\"\n      - \"9091:9091\"\n    depends_on:\n      - \"etcd\"\n      - \"minio\"\n\nnetworks:\n  default:\n    name: milvus\n","$ docker compose up -d\n[*] Running 4/4\n✔ Network milvus               Created          .0s\n✔ Container milvus-minio       Started          .2s\n✔ Container milvus-etcd        Started          .3s\n✔ Container milvus-standalone  Started\n","$ docker ps -a\nCONTAINER ID   IMAGE                                      COMMAND                  CREATED          STATUS                             PORTS                                              NAMES\neb1caca5d6a5   milvusdb/milvus:v2.2.8                     \"/tini -- milvus run…\"   21 seconds ago   Up 19 seconds                      0.0.0.0:9091->9091/tcp, 0.0.0.0:19530->19530/tcp   milvus-standalone\nce19d90d89d0   quay.io/coreos/etcd:v3.5.0                 \"etcd -advertise-cli…\"   22 seconds ago   Up 20 seconds                      2379-2380/tcp                                      milvus-etcd\ne93e33a882d5   minio/minio:RELEASE.2023-03-20T20-16-18Z   \"/usr/bin/docker-ent…\"   22 seconds ago   Up 20 seconds (health: starting)   9000/tcp                                           milvus-minio\n","$ docker logs milvus-standalone\n2023/04/13 13:40:04 maxprocs: Leaving GOMAXPROCS=4: CPU quota undefined\n    __  _________ _   ____  ______    \n   /  |/  /  _/ /| | / / / / / __/    \n  / /|_/ // // /_| |/ / /_/ /\\ \\    \n /_/  /_/___/____/___/\\____/___/     \n\nWelcome to use Milvus!\nVersion:   v2.2.8\nBuilt:     Wed Mar 29 11:32:15 UTC 2023\nGitCommit: 47e28fbe\nGoVersion: go version go1.18.3 linux/amd64\n\nopen pid file: /run/milvus/standalone.pid\nlock pid file: /run/milvus/standalone.pid\n[2023/04/13 13:40:04.976 +00:00] [INFO] [roles/roles.go:192] [\"starting running Milvus components\"]\n(snipped)\n","$ pip3 install pymilvus\nDefaulting to user installation because normal site-packages is not writeable\nWARNING: Ignoring invalid distribution ~rpcio (/home/egoebelbecker/.local/lib/python3.11/site-packages)\nCollecting pymilvus\n  Using cached pymilvus-2.2.6-py3-none-any.whl (133 kB)\nCollecting grpcio<=1.53.0,>=1.49.1\n  Using cached grpcio-1.53.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.9 MB)\nRequirement already satisfied: mmh3>=2.0 in /home/egoebelbecker/.local/lib/python3.11/site-packages (from pymilvus) (3.0.0)\nRequirement already satisfied: ujson>=2.0.0 in /home/egoebelbecker/.local/lib/python3.11/site-packages (from pymilvus) (5.4.0)\nRequirement already satisfied: pandas>=1.2.4 in /home/egoebelbecker/.local/lib/python3.11/site-packages (from pymilvus) (2.0.0)\nRequirement already satisfied: python-dateutil>=2.8.2 in /usr/lib/python3.11/site-packages (from pandas>=1.2.4->pymilvus) (2.8.2)\nRequirement already satisfied: pytz>=2020.1 in /home/egoebelbecker/.local/lib/python3.11/site-packages (from pandas>=1.2.4->pymilvus) (2023.3)\nRequirement already satisfied: tzdata>=2022.1 in /home/egoebelbecker/.local/lib/python3.11/site-packages (from pandas>=1.2.4->pymilvus) (2023.3)\nRequirement already satisfied: numpy>=1.21.0 in /home/egoebelbecker/.local/lib/python3.11/site-packages (from pandas>=1.2.4->pymilvus) (1.24.2)\nRequirement already satisfied: six>=1.5 in /usr/lib/python3.11/site-packages (from python-dateutil>=2.8.2->pandas>=1.2.4->pymilvus) (1.16.0)\nWARNING: Ignoring invalid distribution ~rpcio (/home/egoebelbecker/.local/lib/python3.11/site-packages)\nInstalling collected packages: grpcio, pymilvus\nWARNING: Ignoring invalid distribution ~rpcio (/home/egoebelbecker/.local/lib/python3.11/site-packages)\nWARNING: Ignoring invalid distribution ~rpcio (/home/egoebelbecker/.local/lib/python3.11/site-packages)\nSuccessfully installed grpcio pymilvus-2.2.6\n","$ wget https://raw.githubusercontent.com/milvus-io/pymilvus/v2.2.6/examples/hello_milvus.py\n","$ python3 ./hello_milvus.py \n\n=== start connecting to Milvus     ===\n\nDoes collection hello_milvus exist in Milvus: False\n\n=== Create collection `hello_milvus` ===\n\n\n=== Start inserting entities       ===\n\nNumber of entities in Milvus: 3000\n\n=== Start Creating index IVF_FLAT  ===\n\n\n=== Start loading                  ===\n\n\n=== Start searching based on vector similarity ===\n\nhit: (distance: 0.0, id: 2998), random field: 0.9728033590489911\nhit: (distance: 0.08883658051490784, id: 1262), random field: 0.2978858685751561\nhit: (distance: 0.09590047597885132, id: 1265), random field: 0.3042039939240304\nhit: (distance: 0.0, id: 2999), random field: 0.02316334456872482\nhit: (distance: 0.05628091096878052, id: 1580), random field: 0.3855988746044062\nhit: (distance: 0.08096685260534286, id: 2377), random field: 0.8745922204004368\nsearch latency = 0.3663s\n\n=== Start querying with `random > 0.5` ===\n\nquery result:\n-{'random': 0.6378742006852851, 'embeddings': [0.20963514, 0.39746657, 0.12019053, 0.6947492, 0.9535575, 0.5454552, 0.82360446, 0.21096309], 'pk': '0'}\nsearch latency = 0.4352s\nquery pagination(limit=4):\n    [{'pk': '0', 'random': 0.6378742006852851}, {'pk': '100', 'random': 0.5763523024650556}, {'pk': '1000', 'random': 0.9425935891639464}, {'pk': '1001', 'random': 0.7893211256191387}]\nquery pagination(offset=1, limit=3):\n    [{'random': 0.5763523024650556, 'pk': '100'}, {'random': 0.9425935891639464, 'pk': '1000'}, {'random': 0.7893211256191387, 'pk': '1001'}]\n\n=== Start hybrid searching with `random > 0.5` ===\n\nhit: (distance: 0.0, id: 2998), random field: 0.9728033590489911\nhit: (distance: 0.14606499671936035, id: 747), random field: 0.5648774800635661\nhit: (distance: 0.1530652642250061, id: 2527), random field: 0.8928974315571507\nhit: (distance: 0.08096685260534286, id: 2377), random field: 0.8745922204004368\nhit: (distance: 0.20354536175727844, id: 2034), random field: 0.5526117606328499\nhit: (distance: 0.21908017992973328, id: 958), random field: 0.6647383716417955\nsearch latency = 0.3732s\n\n=== Start deleting with expr `pk in [\"0\" , \"1\"]` ===\n\nquery before delete by expr=`pk in [\"0\" , \"1\"]` -> result: \n-{'random': 0.6378742006852851, 'embeddings': [0.20963514, 0.39746657, 0.12019053, 0.6947492, 0.9535575, 0.5454552, 0.82360446, 0.21096309], 'pk': '0'}\n-{'random': 0.43925103574669633, 'embeddings': [0.52323616, 0.8035404, 0.77824664, 0.80369574, 0.4914803, 0.8265614, 0.6145269, 0.80234545], 'pk': '1'}\n\nquery after delete by expr=`pk in [\"0\" , \"1\"]` -> result: []\n\n=== Drop collection `hello_milvus` ===\n","###############################################################################\n# 7. drop collection\n# Finally, drop the hello_milvus collection\n#print(fmt.format(\"Drop collection `hello_milvus`\"))\n#utility.drop_collection(\"hello_milvus\")\n","$ wget https://github.com/zilliztech/milvus_cli/releases/download/v0.3.2/milvus_cli-v0.3.2-Linux\n--2023-04-13 09:58:15--  https://github.com/zilliztech/milvus_cli/releases/download/v0.3.2/milvus_cli-v0.3.2-Linux\nResolving github.com (github.com)... 140.82.113.3\nConnecting to github.com (github.com)|140.82.113.3|:443... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: https://objects.githubusercontent.com/github-production-release-asset-2e65be/436910525/25c43a55-dd72-41f8-acfa-05598267a2cb?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230413%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230413T135816Z&X-Amz-Expires=300&X-Amz-Signature=3697b3583bfa71a3e8b9773fa550f4d18e32110cfe6315035fd4fff01d694446&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=436910525&response-content-disposition=attachment%3B%20filename%3Dmilvus_cli-v0.3.2-Linux&response-content-type=application%2Foctet-stream [following]\n--2023-04-13 09:58:16--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/436910525/25c43a55-dd72-41f8-acfa-05598267a2cb?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230413%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230413T135816Z&X-Amz-Expires=300&X-Amz-Signature=3697b3583bfa71a3e8b9773fa550f4d18e32110cfe6315035fd4fff01d694446&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=436910525&response-content-disposition=attachment%3B%20filename%3Dmilvus_cli-v0.3.2-Linux&response-content-type=application%2Foctet-stream\nResolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.111.133, 185.199.110.133, 185.199.108.133, ...\nConnecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.111.133|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 50254816 (48M) [application/octet-stream]\nSaving to: ‘milvus_cli-v0.3.2-Linux’\n\nmilvus_cli-v0.3.2-L 100%[===================>]  47.93M  62.7MB/s    in 0.8s    \n\n2023-04-13 09:58:16 (62.7 MB/s) - ‘milvus_cli-v0.3.2-Linux’ saved [50254816/50254816]\n\n$ chmod +x ./milvus_cli-v0.3.2-Linux \n","$ ./milvus_cli-v0.3.2-Linux\n\n  __  __ _ _                    ____ _     ___\n |  \\/  (_) |_   ___   _ ___   / ___| |   |_ _|\n | |\\/| | | \\ \\ / / | | / __| | |   | |    | |\n | |  | | | |\\ V /| |_| \\__ \\ | |___| |___ | |\n |_|  |_|_|_| \\_/  \\__,_|___/  \\____|_____|___|\n\nMilvus cli version: 0.3.2\nPymilvus version: 2.2.1\n\nLearn more: https://github.com/zilliztech/milvus_cli.\n\n\nmilvus_cli > connect\nConnect Milvus successfully.\n+---------+-----------------+\n| Address | 127.0.0.1:19530 |\n|  User   |                 |\n|  Alias  |     default     |\n+---------+-----------------+\n","milvus_cli > list collections\n+----+-------------------+\n|    | Collection Name   |\n+====+===================+\n|  0 | hello_milvus      |\n+----+-------------------+\nmilvus_cli > describe collection -c hello_milvus\n+---------------+----------------------------------------------------------------------+\n| Name          | hello_milvus                                                         |\n+---------------+----------------------------------------------------------------------+\n| Description   | hello_milvus is the simplest demo to introduce the APIs              |\n+---------------+----------------------------------------------------------------------+\n| Is Empty      | False                                                                |\n+---------------+----------------------------------------------------------------------+\n| Entities      | 3000                                                                 |\n+---------------+----------------------------------------------------------------------+\n| Primary Field | pk                                                                   |\n+---------------+----------------------------------------------------------------------+\n| Schema        | Description: hello_milvus is the simplest demo to introduce the APIs |\n|               |                                                                      |\n|               | Auto ID: False                                                       |\n|               |                                                                      |\n|               | Fields(* is the primary field):                                      |\n|               |  - *pk VARCHAR                                                       |\n|               |  - random DOUBLE                                                     |\n|               |  - embeddings FLOAT_VECTOR dim: 8                                    |\n+---------------+----------------------------------------------------------------------+\n| Partitions    | - _default                                                           |\n+---------------+----------------------------------------------------------------------+\n| Indexes       | - embeddings                                                         |\n+---------------+----------------------------------------------------------------------+\n","milvus_cli > k\nCollection name (hello_milvus): hello_milvus\nThe query expression: pk == \"100\"\nThe names of partitions to search (split by \",\" if multiple) ['_default'] []: \nFields to return(split by \",\" if multiple) ['pk', 'random', 'embeddings'] []: pk, random, embeddings\ntimeout []: \nGuarantee timestamp. This instructs Milvus to see all operations performed before a provided timestamp. If no such timestamp is provided, then Milvus will search all operations performed to date. [0]: \nGraceful time. Only used in bounded consistency level. If graceful_time is set, PyMilvus will use current timestamp minus the graceful_time as the guarantee_timestamp. This option is 5s by default if not set. [5]: \nTravel timestamp. Users can specify a timestamp in a search to get results based on a data view at a specified point in time. [0]: \n+----+------+----------+------------------------------------------------------------------------------------------------+\n|    |   pk |   random | embeddings                                                                                     |\n+====+======+==========+================================================================================================+\n|  0 |  100 | 0.576352 | [0.5860017, 0.24227226, 0.8318699, 0.0060517574, 0.27727962, 0.5513293, 0.47201252, 0.6331349] |\n+----+------+----------+------------------------------------------------------------------------------------------------+\n"],"headingContent":"","anchorList":[{"label":"Milvus 是什麼？","href":"What-is-Milvus","type":2,"isActive":false},{"label":"先決條件","href":"Prerequisites","type":2,"isActive":false},{"label":"獨立執行 Milvus","href":"Running-Milvus-Standalone","type":2,"isActive":false},{"label":"單機配置","href":"Standalone-Configuration","type":2,"isActive":false},{"label":"執行 Milvus","href":"Running-Milvus","type":2,"isActive":false},{"label":"如何使用 Milvus","href":"How-to-Use-Milvus","type":2,"isActive":false},{"label":"Milvus CLI","href":"Milvus-CLI","type":2,"isActive":false},{"label":"總結","href":"Wrapping-Up","type":2,"isActive":false}]}